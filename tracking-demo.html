<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Tracking & Profiling Demo - Cookies Exposed</title>
    <meta name="description" content="Learn how cookie-based tracking and user profiling work through interactive demonstrations and real-world scenarios">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="container">
                <div class="nav-content">
                    <a href="/" class="logo">
                        <div class="logo-icon">üç™</div>
                        Cookies Exposed
                    </a>
                    
                    <ul class="nav-menu">
                        <li><a href="/">Home</a></li>
                        <li><a href="cookie-scanner.html">Cookie Scanner</a></li>
                        <li class="nav-dropdown">
                            <a href="#" class="dropdown-toggle">Attack Demos ‚ñº</a>
                            <ul class="dropdown-menu">
                                <li><a href="session-hijacking.html">Session Hijacking</a></li>
                                <li><a href="xss-demo.html">XSS Cookie Theft</a></li>
                                <li><a href="csrf-demo.html">CSRF Attacks</a></li>
                                <li><a href="mitm-demo.html">Man-in-the-Middle</a></li>
                                <li><a href="cookie-poisoning.html">Cookie Poisoning</a></li>
                                <li><a href="tracking-demo.html" class="active">Tracking & Profiling</a></li>
                            </ul>
                        </li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="privacy.html">Privacy</a></li>
                    </ul>
                    
                    <button class="theme-toggle" aria-label="Toggle dark mode">üåô</button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero-secondary">
        <div class="container">
            <div class="hero-content">
                <h1>üïµÔ∏è Cookie Tracking & Profiling Demo</h1>
                <p>Explore how cookies enable cross-site tracking, user profiling, and behavioral analysis across the web</p>
            </div>
        </div>
    </section>

    <!-- Warning Section -->
    <section class="section">
        <div class="container">
            <div class="alert" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52); color: white; text-align: center; margin-bottom: 2rem;">
                <h3 style="margin-top: 0; color: white;">‚ö†Ô∏è Educational Purpose Only</h3>
                <p style="margin-bottom: 0;">This demonstration is for privacy education. All examples are simulated and safe. No real tracking or data collection occurs.</p>
            </div>
        </div>
    </section>

    <!-- What is Cookie Tracking -->
    <section class="section">
        <div class="container">
            <div class="card">
                <h2>üîç What is Cookie-Based Tracking?</h2>
                <p>Cookie-based tracking involves using cookies to monitor user behavior across websites, build detailed profiles, and serve targeted advertising. This creates a comprehensive picture of users' online activities, interests, and personal information.</p>
                
                <div class="grid grid-2 mt-lg">
                    <div>
                        <h3>How Cookie Tracking Works:</h3>
                        <ol>
                            <li><strong>First-party cookies</strong> ‚Üí Website sets cookies for its own domain</li>
                            <li><strong>Third-party cookies</strong> ‚Üí External services embed tracking pixels</li>
                            <li><strong>Cross-site correlation</strong> ‚Üí Same tracking ID used across sites</li>
                            <li><strong>Profile building</strong> ‚Üí Data aggregated to create user profiles</li>
                        </ol>
                    </div>
                    <div>
                        <h3>Types of Tracking:</h3>
                        <ul>
                            <li>üìä <strong>Behavioral tracking</strong> - Pages visited, time spent, clicks</li>
                            <li>üõí <strong>E-commerce tracking</strong> - Products viewed, purchase history</li>
                            <li>üìç <strong>Location tracking</strong> - Geographic data and movement patterns</li>
                            <li>üë§ <strong>Identity linking</strong> - Connecting anonymous and known identities</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tracking Ecosystem Visualization -->
    <section class="section">
        <div class="container">
            <div class="card">
                <h2>üåê The Tracking Ecosystem</h2>
                <p>Visualize how tracking networks span across websites:</p>

                <div class="tracking-network">
                    <div class="network-center">
                        <div class="tracker-hub" id="trackerHub">
                            <div class="hub-icon">üï∑Ô∏è</div>
                            <div class="hub-label">Ad Network</div>
                            <div class="hub-details">
                                <small>Tracking ID: xyz789abc</small>
                            </div>
                        </div>
                    </div>

                    <div class="tracked-websites">
                        <div class="website-node" data-site="news">
                            <div class="site-icon">üì∞</div>
                            <div class="site-name">News Site</div>
                            <div class="tracking-pixel" style="display: none;">
                                <small>Pixel loaded</small>
                            </div>
                        </div>
                        
                        <div class="website-node" data-site="shopping">
                            <div class="site-icon">üõí</div>
                            <div class="site-name">Shopping Site</div>
                            <div class="tracking-pixel" style="display: none;">
                                <small>Pixel loaded</small>
                            </div>
                        </div>
                        
                        <div class="website-node" data-site="social">
                            <div class="site-icon">üì±</div>
                            <div class="site-name">Social Media</div>
                            <div class="tracking-pixel" style="display: none;">
                                <small>Pixel loaded</small>
                            </div>
                        </div>
                        
                        <div class="website-node" data-site="video">
                            <div class="site-icon">üé•</div>
                            <div class="site-name">Video Platform</div>
                            <div class="tracking-pixel" style="display: none;">
                                <small>Pixel loaded</small>
                            </div>
                        </div>
                        
                        <div class="website-node" data-site="travel">
                            <div class="site-icon">‚úàÔ∏è</div>
                            <div class="site-name">Travel Site</div>
                            <div class="tracking-pixel" style="display: none;">
                                <small>Pixel loaded</small>
                            </div>
                        </div>
                    </div>

                    <div class="user-profile" id="userProfile" style="display: none;">
                        <h4>Generated User Profile</h4>
                        <div class="profile-data">
                            <div class="profile-item">
                                <strong>Interests:</strong>
                                <span id="interests">Technology, Travel, Shopping</span>
                            </div>
                            <div class="profile-item">
                                <strong>Demographics:</strong>
                                <span id="demographics">25-34, Urban, College Educated</span>
                            </div>
                            <div class="profile-item">
                                <strong>Purchase Intent:</strong>
                                <span id="purchaseIntent">High (Electronics), Medium (Travel)</span>
                            </div>
                            <div class="profile-item">
                                <strong>Ad Value:</strong>
                                <span id="adValue">$12.50 per impression</span>
                            </div>
                        </div>
                    </div>
                </div>

                <button id="simulateTracking" class="btn btn-danger mt-lg">Simulate Cross-Site Tracking</button>
            </div>
        </div>
    </section>

    <!-- Interactive Tracking Demo -->
    <section class="section">
        <div class="container">
            <div class="card">
                <h2>üß™ Interactive Tracking Simulation</h2>
                <p>Experience how different tracking methods work:</p>

                <!-- Tracking Method Tabs -->
                <div class="tracking-tabs">
                    <button class="tracking-tab active" data-method="pixels">üîç Tracking Pixels</button>
                    <button class="tracking-tab" data-method="fingerprinting">üîé Browser Fingerprinting</button>
                    <button class="tracking-tab" data-method="supercookies">üç™ Supercookies</button>
                    <button class="tracking-tab" data-method="linkage">üîó Identity Linkage</button>
                </div>

                <!-- Tracking Pixels Demo -->
                <div class="tracking-method active" id="pixels-method">
                    <h3>Third-Party Tracking Pixels</h3>
                    <div class="pixel-demo">
                        <div class="simulated-webpage">
                            <div class="webpage-header">
                                <h4>Example News Website</h4>
                                <div class="url-bar">https://news-example.com/article</div>
                            </div>
                            <div class="webpage-content">
                                <div class="article-text">
                                    <h5>Breaking: Technology News Article</h5>
                                    <p>This is sample article content that users are reading...</p>
                                </div>
                                <div class="hidden-trackers">
                                    <h5>Hidden Tracking Elements:</h5>
                                    <div class="tracker-list">
                                        <div class="tracker-item">
                                            <span class="tracker-name">Google Analytics</span>
                                            <div class="pixel-status" data-tracker="ga">‚óè</div>
                                        </div>
                                        <div class="tracker-item">
                                            <span class="tracker-name">Facebook Pixel</span>
                                            <div class="pixel-status" data-tracker="fb">‚óè</div>
                                        </div>
                                        <div class="tracker-item">
                                            <span class="tracker-name">Amazon Associates</span>
                                            <div class="pixel-status" data-tracker="amazon">‚óè</div>
                                        </div>
                                        <div class="tracker-item">
                                            <span class="tracker-name">Doubleclick</span>
                                            <div class="pixel-status" data-tracker="dc">‚óè</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button id="loadTrackingPixels" class="btn btn-danger">Load Page (Activate Trackers)</button>
                        
                        <div id="pixelResults" style="display: none;">
                            <div class="tracking-report">
                                <h4>üö® Tracking Activity Detected</h4>
                                <div class="tracked-data">
                                    <div class="data-point">
                                        <strong>Page Visit:</strong> Technology news article
                                    </div>
                                    <div class="data-point">
                                        <strong>Time Spent:</strong> 2 minutes 34 seconds
                                    </div>
                                    <div class="data-point">
                                        <strong>Referrer:</strong> google.com (search: "tech news")
                                    </div>
                                    <div class="data-point">
                                        <strong>Screen Resolution:</strong> 1920x1080
                                    </div>
                                    <div class="data-point">
                                        <strong>Browser:</strong> Chrome 119.0.0.0
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Browser Fingerprinting Demo -->
                <div class="tracking-method" id="fingerprinting-method">
                    <h3>Browser Fingerprinting</h3>
                    <div class="fingerprinting-demo">
                        <p>Browser fingerprinting creates unique identifiers without cookies:</p>
                        
                        <div class="fingerprint-data">
                            <h4>Your Browser Fingerprint</h4>
                            <div class="fingerprint-grid">
                                <div class="fingerprint-item">
                                    <strong>User Agent:</strong>
                                    <span id="userAgent">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Screen Resolution:</strong>
                                    <span id="screenRes">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Timezone:</strong>
                                    <span id="timezone">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Language:</strong>
                                    <span id="language">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Platform:</strong>
                                    <span id="platform">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Cookie Enabled:</strong>
                                    <span id="cookieEnabled">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>Canvas Hash:</strong>
                                    <span id="canvasHash">Loading...</span>
                                </div>
                                <div class="fingerprint-item">
                                    <strong>WebGL Renderer:</strong>
                                    <span id="webglRenderer">Loading...</span>
                                </div>
                            </div>
                            
                            <button id="generateFingerprint" class="btn btn-primary">Generate Fingerprint</button>
                            
                            <div id="fingerprintResult" style="display: none;">
                                <div class="fingerprint-hash">
                                    <h5>Unique Fingerprint ID:</h5>
                                    <code id="fingerprintId"></code>
                                    <p class="text-warning">‚ö†Ô∏è This ID can track you across websites without any cookies!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Supercookies Demo -->
                <div class="tracking-method" id="supercookies-method">
                    <h3>Supercookies & Persistent Storage</h3>
                    <div class="supercookies-demo">
                        <p>Supercookies use alternative storage methods that persist even after clearing cookies:</p>
                        
                        <div class="storage-methods">
                            <div class="storage-item">
                                <h4>LocalStorage</h4>
                                <div class="storage-content">
                                    <p>Stores data permanently until manually cleared</p>
                                    <button class="test-storage" data-type="localStorage">Test LocalStorage</button>
                                    <div class="storage-result"></div>
                                </div>
                            </div>
                            
                            <div class="storage-item">
                                <h4>SessionStorage</h4>
                                <div class="storage-content">
                                    <p>Persists for the browser session</p>
                                    <button class="test-storage" data-type="sessionStorage">Test SessionStorage</button>
                                    <div class="storage-result"></div>
                                </div>
                            </div>
                            
                            <div class="storage-item">
                                <h4>IndexedDB</h4>
                                <div class="storage-content">
                                    <p>Large-scale client-side database storage</p>
                                    <button class="test-storage" data-type="indexedDB">Test IndexedDB</button>
                                    <div class="storage-result"></div>
                                </div>
                            </div>
                            
                            <div class="storage-item">
                                <h4>Flash Cookies (LSO)</h4>
                                <div class="storage-content">
                                    <p>Legacy Flash Player storage (mostly obsolete)</p>
                                    <div class="storage-result">
                                        <span class="text-muted">Flash not available (deprecated)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="supercookie-warning">
                            <h4>‚ö†Ô∏è Persistence Test</h4>
                            <p>Even if you clear all cookies, these storage methods may retain tracking data:</p>
                            <button id="clearCookiesOnly" class="btn btn-secondary">Clear Cookies Only</button>
                            <button id="checkPersistence" class="btn btn-primary">Check What Remains</button>
                            <div id="persistenceResult" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Identity Linkage Demo -->
                <div class="tracking-method" id="linkage-method">
                    <h3>Identity Linkage & Cross-Device Tracking</h3>
                    <div class="linkage-demo">
                        <p>Shows how anonymous tracking data gets linked to real identities:</p>
                        
                        <div class="linkage-scenario">
                            <div class="scenario-step">
                                <h4>Step 1: Anonymous Tracking</h4>
                                <div class="anonymous-data">
                                    <div class="tracking-id">
                                        <strong>Anonymous ID:</strong> visitor_abc123xyz
                                    </div>
                                    <div class="anonymous-activity">
                                        <h5>Tracked Activity:</h5>
                                        <ul>
                                            <li>Visited electronics websites</li>
                                            <li>Searched for "gaming laptop"</li>
                                            <li>Spent $1,200 on tech products</li>
                                            <li>Lives in San Francisco area</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="scenario-step">
                                <h4>Step 2: Identity Revelation</h4>
                                <div class="identity-reveal">
                                    <p>User logs into email or social media:</p>
                                    <div class="login-simulation">
                                        <input type="email" placeholder="john.doe@email.com" readonly>
                                        <button id="simulateLogin" class="btn btn-primary">Login</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="scenario-step" id="linkageResult" style="display: none;">
                                <h4>Step 3: Profile Linkage</h4>
                                <div class="linked-profile">
                                    <div class="alert alert-warning">
                                        <h5>üîó Identity Linked!</h5>
                                        <p>Anonymous tracking data now connected to real identity</p>
                                    </div>
                                    <div class="complete-profile">
                                        <div class="profile-section">
                                            <h5>Known Identity:</h5>
                                            <p><strong>Name:</strong> John Doe</p>
                                            <p><strong>Email:</strong> john.doe@email.com</p>
                                            <p><strong>Age:</strong> 28</p>
                                            <p><strong>Location:</strong> San Francisco, CA</p>
                                        </div>
                                        <div class="profile-section">
                                            <h5>Linked Behavioral Data:</h5>
                                            <p><strong>Shopping Interests:</strong> Gaming, Electronics</p>
                                            <p><strong>Purchase Power:</strong> High ($1,200+ recent spending)</p>
                                            <p><strong>Browsing Pattern:</strong> Evening researcher, weekend buyer</p>
                                            <p><strong>Device Usage:</strong> Mobile + Desktop cross-device</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Privacy Protection -->
    <section class="section">
        <div class="container">
            <div class="card">
                <h2>üõ°Ô∏è How to Protect Your Privacy</h2>
                
                <div class="grid grid-2 mt-lg">
                    <div>
                        <h3>For Website Users:</h3>
                        <ul class="defense-list">
                            <li>
                                <strong>Use privacy-focused browsers</strong>
                                <p>Firefox, Brave, or Safari with enhanced privacy</p>
                            </li>
                            <li>
                                <strong>Enable tracking protection</strong>
                                <p>Block third-party cookies and trackers</p>
                            </li>
                            <li>
                                <strong>Use ad blockers</strong>
                                <p>uBlock Origin, AdBlock Plus, Ghostery</p>
                            </li>
                            <li>
                                <strong>Regular privacy cleanup</strong>
                                <p>Clear cookies, localStorage, and browser data</p>
                            </li>
                            <li>
                                <strong>Use VPN services</strong>
                                <p>Hide IP address and location data</p>
                            </li>
                            <li>
                                <strong>Disable JavaScript when possible</strong>
                                <p>Prevents advanced fingerprinting techniques</p>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3>For Website Developers:</h3>
                        <ul class="defense-list">
                            <li>
                                <strong>Respect user privacy choices</strong>
                                <p>Honor Do Not Track signals and consent preferences</p>
                            </li>
                            <li>
                                <strong>Implement consent management</strong>
                                <p>Clear opt-in/opt-out for tracking cookies</p>
                            </li>
                            <li>
                                <strong>Minimize third-party scripts</strong>
                                <p>Audit and reduce external tracking dependencies</p>
                            </li>
                            <li>
                                <strong>Use privacy-preserving analytics</strong>
                                <p>Self-hosted or privacy-focused alternatives</p>
                            </li>
                            <li>
                                <strong>Implement data minimization</strong>
                                <p>Collect only necessary data with shortest retention</p>
                            </li>
                            <li>
                                <strong>Provide transparency</strong>
                                <p>Clear privacy policies and data usage explanations</p>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Privacy Tools -->
                <div class="privacy-tools mt-xl">
                    <h3>üîß Privacy Protection Tools</h3>
                    
                    <div class="tools-grid">
                        <div class="tool-card">
                            <h4>Browser Extensions</h4>
                            <ul>
                                <li>uBlock Origin - Comprehensive ad & tracker blocker</li>
                                <li>Privacy Badger - Automatic tracker protection</li>
                                <li>Ghostery - Tracker identification and blocking</li>
                                <li>DuckDuckGo Privacy Essentials - All-in-one privacy</li>
                            </ul>
                        </div>
                        
                        <div class="tool-card">
                            <h4>Privacy-Focused Browsers</h4>
                            <ul>
                                <li>Tor Browser - Maximum anonymity</li>
                                <li>Brave - Built-in ad & tracker blocking</li>
                                <li>Firefox - Strong privacy controls</li>
                                <li>Safari - Intelligent tracking prevention</li>
                            </ul>
                        </div>
                        
                        <div class="tool-card">
                            <h4>Search Engines</h4>
                            <ul>
                                <li>DuckDuckGo - No tracking, no profiling</li>
                                <li>Startpage - Google results without tracking</li>
                                <li>Searx - Open-source metasearch</li>
                                <li>Brave Search - Independent, private search</li>
                            </ul>
                        </div>
                        
                        <div class="tool-card">
                            <h4>VPN Services</h4>
                            <ul>
                                <li>Mullvad - Anonymous payments accepted</li>
                                <li>ProtonVPN - Open-source, privacy-focused</li>
                                <li>IVPN - No-logs policy, minimal data</li>
                                <li>Tor VPN - Maximum anonymity layer</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Test Your Knowledge -->
                <div class="quiz-section mt-xl">
                    <h3>üß† Test Your Knowledge</h3>
                    <div class="quiz-question">
                        <p><strong>Which method can track users even when cookies are disabled?</strong></p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q1" value="thirdparty"> Third-party cookies</label>
                            <label><input type="radio" name="q1" value="fingerprinting"> Browser fingerprinting</label>
                            <label><input type="radio" name="q1" value="firstparty"> First-party cookies</label>
                        </div>
                        <button class="btn btn-primary mt-sm" onclick="checkAnswer()">Check Answer</button>
                        <div id="quizResult" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Real-World Examples -->
    <section class="section">
        <div class="container">
            <div class="card">
                <h2>üì∞ Real-World Tracking Cases</h2>
                
                <div class="case-studies">
                    <div class="case-study">
                        <h3>Case 1: Cambridge Analytica (2018)</h3>
                        <p><strong>Target:</strong> Facebook users and their social networks</p>
                        <p><strong>Method:</strong> Personality quiz app harvested user data and friend networks</p>
                        <p><strong>Impact:</strong> 87 million user profiles used for political targeting</p>
                        <p><strong>Lesson:</strong> Data can be used for manipulation beyond advertising</p>
                    </div>
                    
                    <div class="case-study">
                        <h3>Case 2: Google Street View WiFi Collection (2010)</h3>
                        <p><strong>Target:</strong> Users on unsecured WiFi networks</p>
                        <p><strong>Method:</strong> Street View cars collected WiFi data including emails and passwords</p>
                        <p><strong>Impact:</strong> Personal data from 30+ countries collected without consent</p>
                        <p><strong>Lesson:</strong> Data collection can exceed stated purposes</p>
                    </div>
                    
                    <div class="case-study">
                        <h3>Case 3: Location Tracking via Ad IDs (2019)</h3>
                        <p><strong>Target:</strong> Mobile app users</p>
                        <p><strong>Method:</strong> Apps shared location data with advertisers via tracking IDs</p>
                        <p><strong>Impact:</strong> Precise location history of millions sold to data brokers</p>
                        <p><strong>Lesson:</strong> Mobile tracking extends beyond web browsers</p>
                    </div>
                    
                    <div class="case-study">
                        <h3>Case 4: Cross-Device Tracking Study (2020)</h3>
                        <p><strong>Target:</strong> Users across multiple devices</p>
                        <p><strong>Method:</strong> Researchers linked activities across phones, tablets, and computers</p>
                        <p><strong>Impact:</strong> 99.2% accuracy in linking devices to individuals</p>
                        <p><strong>Lesson:</strong> Privacy protection requires coordinated effort across all devices</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Navigation -->
    <section class="section">
        <div class="container">
            <div class="navigation-cards">
                <a href="index.html" class="nav-card">
                    <h3>‚Üê Back to Home</h3>
                    <p>Return to main educational content</p>
                </a>
                <a href="cookie-poisoning.html" class="nav-card">
                    <h3>‚Üê Previous: Cookie Poisoning</h3>
                    <p>Return to cookie manipulation attacks</p>
                </a>
            </div>
        </div>
    </section>

    <script src="app.js"></script>
    <script>
        // Tracking network simulation
        document.getElementById('simulateTracking').addEventListener('click', () => {
            const websites = document.querySelectorAll('.website-node');
            let delay = 0;
            
            websites.forEach((site, index) => {
                setTimeout(() => {
                    // Show tracking pixel
                    site.querySelector('.tracking-pixel').style.display = 'block';
                    site.style.background = '#fef2f2';
                    site.style.borderColor = '#dc2626';
                    
                    // Draw connection line (visual effect)
                    const connection = document.createElement('div');
                    connection.className = 'tracking-connection';
                    connection.style.cssText = `
                        position: absolute;
                        height: 2px;
                        background: #dc2626;
                        animation: drawLine 0.5s ease-out;
                    `;
                    document.querySelector('.tracking-network').appendChild(connection);
                    
                    // Show profile after all sites are tracked
                    if (index === websites.length - 1) {
                        setTimeout(() => {
                            document.getElementById('userProfile').style.display = 'block';
                        }, 1000);
                    }
                }, delay);
                delay += 500;
            });
        });

        // Tab switching for tracking methods
        document.querySelectorAll('.tracking-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all
                document.querySelectorAll('.tracking-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tracking-method').forEach(m => m.classList.remove('active'));
                
                // Add active to clicked
                tab.classList.add('active');
                document.getElementById(tab.dataset.method + '-method').classList.add('active');
            });
        });

        // Tracking pixels demo
        document.getElementById('loadTrackingPixels').addEventListener('click', () => {
            const pixelStatuses = document.querySelectorAll('.pixel-status');
            let delay = 0;
            
            pixelStatuses.forEach(status => {
                setTimeout(() => {
                    status.style.color = '#dc2626';
                    status.textContent = '‚óè Loading';
                    
                    setTimeout(() => {
                        status.textContent = '‚óè Active';
                        status.style.animation = 'pulse 1s infinite';
                    }, 300);
                }, delay);
                delay += 200;
            });
            
            setTimeout(() => {
                document.getElementById('pixelResults').style.display = 'block';
            }, 1500);
        });

        // Browser fingerprinting
        document.getElementById('generateFingerprint').addEventListener('click', () => {
            // Collect real browser data
            document.getElementById('userAgent').textContent = navigator.userAgent;
            document.getElementById('screenRes').textContent = `${screen.width}x${screen.height}`;
            document.getElementById('timezone').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
            document.getElementById('language').textContent = navigator.language;
            document.getElementById('platform').textContent = navigator.platform;
            document.getElementById('cookieEnabled').textContent = navigator.cookieEnabled ? 'Yes' : 'No';
            
            // Generate canvas fingerprint
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillText('Canvas fingerprint test', 2, 2);
            const canvasHash = canvas.toDataURL().slice(-12);
            document.getElementById('canvasHash').textContent = canvasHash;
            
            // WebGL renderer
            const gl = canvas.getContext('webgl');
            const renderer = gl ? gl.getParameter(gl.RENDERER) : 'Not available';
            document.getElementById('webglRenderer').textContent = renderer;
            
            // Generate fingerprint ID
            const data = [
                navigator.userAgent,
                screen.width + 'x' + screen.height,
                navigator.language,
                navigator.platform,
                canvasHash,
                renderer
            ].join('|');
            
            // Simple hash function for demo
            let hash = 0;
            for (let i = 0; i < data.length; i++) {
                const char = data.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32-bit integer
            }
            
            document.getElementById('fingerprintId').textContent = 'fp_' + Math.abs(hash).toString(16);
            document.getElementById('fingerprintResult').style.display = 'block';
        });

        // Supercookies demo
        document.querySelectorAll('.test-storage').forEach(btn => {
            btn.addEventListener('click', () => {
                const type = btn.dataset.type;
                const resultDiv = btn.nextElementSibling;
                const trackingId = 'tracking_' + Date.now();
                
                try {
                    switch (type) {
                        case 'localStorage':
                            localStorage.setItem('supercookie_demo', trackingId);
                            resultDiv.innerHTML = `<span class="text-success">‚úÖ Stored: ${trackingId}</span>`;
                            break;
                        case 'sessionStorage':
                            sessionStorage.setItem('supercookie_demo', trackingId);
                            resultDiv.innerHTML = `<span class="text-success">‚úÖ Stored: ${trackingId}</span>`;
                            break;
                        case 'indexedDB':
                            // Simplified IndexedDB demo
                            resultDiv.innerHTML = `<span class="text-success">‚úÖ Would store: ${trackingId}</span>`;
                            break;
                    }
                } catch (e) {
                    resultDiv.innerHTML = `<span class="text-danger">‚ùå Storage blocked</span>`;
                }
            });
        });

        document.getElementById('clearCookiesOnly').addEventListener('click', () => {
            // Simulate clearing cookies (can't actually clear in demo)
            alert('Cookies cleared! (simulated)');
        });

        document.getElementById('checkPersistence').addEventListener('click', () => {
            const result = document.getElementById('persistenceResult');
            const remaining = [];
            
            if (localStorage.getItem('supercookie_demo')) {
                remaining.push('LocalStorage data');
            }
            if (sessionStorage.getItem('supercookie_demo')) {
                remaining.push('SessionStorage data');
            }
            
            if (remaining.length > 0) {
                result.innerHTML = `
                    <div class="alert alert-warning">
                        <h5>‚ö†Ô∏è Tracking Data Still Present:</h5>
                        <ul>${remaining.map(item => `<li>${item}</li>`).join('')}</ul>
                        <p>These storage methods persist even after clearing cookies!</p>
                    </div>
                `;
            } else {
                result.innerHTML = `
                    <div class="alert alert-success">
                        <h5>‚úÖ No Persistent Tracking Data Found</h5>
                        <p>Your privacy cleanup was successful.</p>
                    </div>
                `;
            }
            
            result.style.display = 'block';
        });

        // Identity linkage demo
        document.getElementById('simulateLogin').addEventListener('click', () => {
            document.getElementById('linkageResult').style.display = 'block';
        });

        function checkAnswer() {
            const selected = document.querySelector('input[name="q1"]:checked');
            const result = document.getElementById('quizResult');
            
            if (!selected) {
                result.innerHTML = '<p class="text-warning">Please select an answer!</p>';
                result.style.display = 'block';
                return;
            }
            
            if (selected.value === 'fingerprinting') {
                result.innerHTML = '<p class="text-success">‚úÖ Correct! Browser fingerprinting can track users even without cookies.</p>';
            } else {
                result.innerHTML = '<p class="text-danger">‚ùå Incorrect. Browser fingerprinting works without any cookies or storage.</p>';
            }
            
            result.style.display = 'block';
        }
    </script>

    <style>
        /* Tracking-specific styles */
        .tracking-network {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            padding: 2rem;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            margin: 1rem 0;
        }

        .network-center {
            display: flex;
            justify-content: center;
        }

        .tracker-hub {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
            padding: 1.5rem;
            border-radius: 50%;
            text-align: center;
            box-shadow: var(--shadow-heavy);
            animation: pulse 2s infinite;
        }

        .hub-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .hub-details {
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .tracked-websites {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            width: 100%;
            max-width: 600px;
        }

        .website-node {
            background: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 1rem;
            text-align: center;
            transition: var(--transition-normal);
            cursor: pointer;
        }

        .site-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .site-name {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .tracking-pixel {
            margin-top: 0.5rem;
            color: var(--accent-primary);
            font-size: 0.8rem;
        }

        .user-profile {
            background: #fef2f2;
            border: 2px solid #dc2626;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            width: 100%;
            max-width: 500px;
        }

        .profile-data {
            margin-top: 1rem;
        }

        .profile-item {
            margin: 0.75rem 0;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: var(--radius-sm);
        }

        .tracking-tabs {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 2rem;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tracking-tab {
            background: none;
            border: none;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: var(--transition-fast);
            font-family: var(--font-body);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .tracking-tab.active {
            border-bottom-color: var(--accent-primary);
            color: var(--accent-primary);
            font-weight: 600;
        }

        .tracking-method {
            display: none;
        }

        .tracking-method.active {
            display: block;
        }

        .simulated-webpage {
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin: 1rem 0;
            background: var(--bg-primary);
        }

        .webpage-header {
            background: var(--bg-tertiary);
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .url-bar {
            background: white;
            padding: 0.5rem;
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .webpage-content {
            padding: 1.5rem;
        }

        .hidden-trackers {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #fef2f2;
            border-radius: var(--radius-md);
            border: 1px solid #fecaca;
        }

        .tracker-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tracker-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: var(--radius-sm);
        }

        .pixel-status {
            color: var(--text-muted);
            font-family: var(--font-mono);
        }

        .tracking-report {
            background: #fef2f2;
            border: 2px solid #dc2626;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .tracked-data {
            margin-top: 1rem;
        }

        .data-point {
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: var(--radius-sm);
        }

        .fingerprint-data {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            margin: 1rem 0;
        }

        .fingerprint-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .fingerprint-item {
            padding: 0.75rem;
            background: var(--bg-primary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }

        .fingerprint-item strong {
            display: block;
            margin-bottom: 0.25rem;
            color: var(--accent-info);
        }

        .fingerprint-item span {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            word-break: break-all;
        }

        .fingerprint-hash {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 1rem;
            text-align: center;
        }

        .fingerprint-hash code {
            font-size: 1.1rem;
            font-weight: 600;
            color: #856404;
        }

        .storage-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .storage-item {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            background: var(--bg-secondary);
        }

        .storage-content {
            margin-top: 1rem;
        }

        .storage-result {
            margin-top: 0.75rem;
            padding: 0.5rem;
            background: var(--bg-primary);
            border-radius: var(--radius-sm);
            min-height: 1.5rem;
        }

        .supercookie-warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .linkage-scenario {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .scenario-step {
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            background: var(--bg-secondary);
        }

        .anonymous-data, .identity-reveal {
            margin-top: 1rem;
        }

        .tracking-id {
            background: var(--bg-primary);
            padding: 0.75rem;
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            margin-bottom: 1rem;
        }

        .anonymous-activity {
            margin-top: 1rem;
        }

        .login-simulation {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin-top: 1rem;
        }

        .login-simulation input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
        }

        .linked-profile {
            margin-top: 1rem;
        }

        .complete-profile {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .profile-section {
            background: var(--bg-primary);
            padding: 1rem;
            border-radius: var(--radius-md);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .tool-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
        }

        .tool-card h4 {
            color: var(--accent-info);
            margin-bottom: 1rem;
        }

        .tool-card ul {
            list-style: none;
            padding: 0;
        }

        .tool-card li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .tool-card li:last-child {
            border-bottom: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes drawLine {
            0% { width: 0; }
            100% { width: 100%; }
        }

        @media (max-width: 768px) {
            .tracking-tabs {
                flex-direction: column;
            }

            .complete-profile {
                grid-template-columns: 1fr;
            }

            .login-simulation {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</body>
</html>